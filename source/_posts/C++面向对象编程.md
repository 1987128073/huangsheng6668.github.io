---
title: C++面向对象编程
date: 2020-07-01 19:03:35
tags: C++
categories: C++
---

#### C++面向对象编程

##### 内存分区模型

C++程序在执行时，将内存大方向划分为四个区域

- 代码区\t： 存放函数体的二进制代码，**由操作系统进行管理的**
- 全局区\t： 存放全局变量和静态变量以及常量
- 栈区\t： 由**编译器自动分配释放**，存放函数的参数值、局部变量等
- 堆区\t：**由程序员分配和释放**，若程序员不释放，程序结束时由操作系统回收

##### 代码区（程序运行前建立）：

&nbsp;&nbsp;&nbsp;&nbsp;存放CPU执行的**机器指令**

&nbsp;&nbsp;&nbsp;&nbsp;代码区是**共享**的，共享的目的是对于频繁被执行的程序，只需要在内存中有一份代码即可

&nbsp;&nbsp;&nbsp;&nbsp;代码区是**只读**，使其只读原因是防止程序意外地修改了它的指令。

##### 全局区（程序运行前建立）：

&nbsp;&nbsp;&nbsp;&nbsp;全局变量和静态变量存放在此

&nbsp;&nbsp;&nbsp;&nbsp;全局区还包含了常量区，字符串常量和其他常量也存放在此。

&nbsp;&nbsp;&nbsp;&nbsp;**该区域的数据在程序结束后由操作系统释放**

##### 栈区（程序运行后建立）：

&nbsp;&nbsp;&nbsp;&nbsp;由编译器自动分配释放，存放函数的参数值、局部变量等

&nbsp;&nbsp;&nbsp;&nbsp;注意事项： **不要返回局部变量的地址**，栈区开辟的数据由编译器自动释放

##### 堆区（程序运行后建立）：

&nbsp;&nbsp;&nbsp;&nbsp;**由程序员分配释放**，若程序员不释放，程序结束时由操作系统回收

&nbsp;&nbsp;&nbsp;&nbsp;在C++中主要**利用new在堆区开辟内存**

##### new操作符

&nbsp;&nbsp;&nbsp;&nbsp;C++利用new操作符在堆区开辟数据

&nbsp;&nbsp;&nbsp;&nbsp;**堆区开辟的数据，由程序员手动开辟，手动释放，释放利用操作符delete**，如果是delete数组,格式为delete[] array

&nbsp;&nbsp;&nbsp;&nbsp;语法：new 数据类型

&nbsp;&nbsp;&nbsp;&nbsp;**利用new创建的数据，会返回该数据对应的类型的指针**

##### 引用

1. 引用的基本使用

   作用：给变量起别名

   语法：数据类型  &别名  = 原名

2. 引用注意事项

   1. 引用必须要初始化
      2. 引用一旦初始化后，就不可以更改

3. 引用做函数参数

   作用： 函数传参时，可以利用引用技术让形参修饰实参

   优点：简化指针修改实参

4. 引用做函数的返回值

   1. 不要返回局部变量的引用
   2. 函数的调用可以做左值

5. 引用的本质

   本质：引用的本质在C++内部实现是一个指针常量

#### 函数提高

1. 函数是可以有默认参数的
2. 函数可以有占位参数
3. 函数可以**重载**

#### 类和对象

万物皆对象，封装、继承、多态。

##### 三种访问权限

1. public          公共权限

   成员类内可以访问，类外也可以访问

2. protected     保护权限

   成员类内可以访问，类外不可以访问（子类可以访问）

3. private         私有权限

   成员类内可以访问，类外不可以访问

##### struct和class区别

唯一区别：在C++中struct和class唯一区别在于默认的访问权限不同

区别：

	- struct默认权限为公共
	- class默认权限为私有

